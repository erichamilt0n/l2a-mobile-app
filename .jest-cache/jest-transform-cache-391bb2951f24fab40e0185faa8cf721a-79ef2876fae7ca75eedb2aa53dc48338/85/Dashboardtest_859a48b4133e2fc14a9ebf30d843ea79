619a23f0073891f9008edc6c0b825083
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
jest.mock('react-router-dom', () => ({
    ...jest.requireActual('react-router-dom'),
    useNavigate: () => mockNavigate,
}));
const react_1 = require("@testing-library/react");
const react_router_dom_1 = require("react-router-dom");
const Dashboard_1 = __importDefault(require("./Dashboard"));
// Mock useNavigate
const mockNavigate = jest.fn();
describe('Dashboard', () => {
    beforeEach(() => {
        mockNavigate.mockClear();
    });
    it('renders the welcome message and description', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Dashboard_1.default, {}) }));
        expect(react_1.screen.getByText('Welcome Back, John')).toBeInTheDocument();
        expect(react_1.screen.getByText("Here's what's happening at Lodge2A")).toBeInTheDocument();
    });
    it('renders all stat cards with correct information', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Dashboard_1.default, {}) }));
        // Check stat card titles
        expect(react_1.screen.getByText('Upcoming Reservations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Events This Week')).toBeInTheDocument();
        expect(react_1.screen.getByText('Average Score')).toBeInTheDocument();
        expect(react_1.screen.getByText('Pro Shop Points')).toBeInTheDocument();
        // Check stat card values
        expect(react_1.screen.getByText('3')).toBeInTheDocument();
        expect(react_1.screen.getByText('5')).toBeInTheDocument();
        expect(react_1.screen.getByText('82')).toBeInTheDocument();
        expect(react_1.screen.getByText('1,250')).toBeInTheDocument();
    });
    it('navigates to correct pages when stat cards are clicked', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Dashboard_1.default, {}) }));
        // Click each stat card and verify navigation
        react_1.fireEvent.click(react_1.screen.getByText('Upcoming Reservations'));
        expect(mockNavigate).toHaveBeenCalledWith('/reservations');
        react_1.fireEvent.click(react_1.screen.getByText('Events This Week'));
        expect(mockNavigate).toHaveBeenCalledWith('/events');
        react_1.fireEvent.click(react_1.screen.getByText('Average Score'));
        expect(mockNavigate).toHaveBeenCalledWith('/scores');
        react_1.fireEvent.click(react_1.screen.getByText('Pro Shop Points'));
        expect(mockNavigate).toHaveBeenCalledWith('/pro-shop');
    });
    it('renders recent activity section with correct information', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Dashboard_1.default, {}) }));
        // Check section title
        expect(react_1.screen.getByText('Recent Activity')).toBeInTheDocument();
        // Check activity entries
        const recentActivitySection = react_1.screen.getByText('Recent Activity').closest('div')?.parentElement;
        expect(recentActivitySection).toBeInTheDocument();
        // Check bay reservations within the recent activity section
        expect((0, react_1.within)(recentActivitySection).getAllByText(/Bay Reservation/)).toHaveLength(3);
        expect((0, react_1.within)(recentActivitySection).getAllByText(/2 hours - Bay/)).toHaveLength(3);
        expect((0, react_1.within)(recentActivitySection).getByText('Dec 5, 2024')).toBeInTheDocument();
        expect((0, react_1.within)(recentActivitySection).getByText('Dec 10, 2024')).toBeInTheDocument();
        expect((0, react_1.within)(recentActivitySection).getByText('Dec 15, 2024')).toBeInTheDocument();
    });
    it('renders upcoming events section with correct information', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Dashboard_1.default, {}) }));
        // Check section title
        expect(react_1.screen.getByText('Upcoming Events')).toBeInTheDocument();
        // Check event entries
        const upcomingEventsSection = react_1.screen.getByText('Upcoming Events').closest('div')?.parentElement;
        expect(upcomingEventsSection).toBeInTheDocument();
        // Check tournament entries within the upcoming events section
        (0, react_1.within)(upcomingEventsSection).getAllByText(/Tournament/).forEach((element, index) => {
            expect(element).toHaveTextContent(`Tournament ${index + 1}`);
        });
        expect((0, react_1.within)(upcomingEventsSection).getAllByText('18 holes - Singles')).toHaveLength(3);
        expect((0, react_1.within)(upcomingEventsSection).getByText('Dec 10, 2024')).toBeInTheDocument();
        expect((0, react_1.within)(upcomingEventsSection).getByText('Dec 20, 2024')).toBeInTheDocument();
        expect((0, react_1.within)(upcomingEventsSection).getByText('Dec 30, 2024')).toBeInTheDocument();
    });
    it('navigates to events page when View All button is clicked', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Dashboard_1.default, {}) }));
        const viewAllButtons = react_1.screen.getAllByText('View All');
        expect(viewAllButtons).toHaveLength(2);
        // Click the View All button in the Upcoming Events section
        react_1.fireEvent.click(viewAllButtons[1]);
        expect(mockNavigate).toHaveBeenCalledWith('/events');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2VyaWNoYW1pbHQwbi9yZXBvcy9sb2RnZTJhL2wyYS1tb2JpbGUtYXBwL3NyYy9wYWdlcy9EYXNoYm9hcmQudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBT0EsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztJQUN6QyxXQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsWUFBWTtDQUNoQyxDQUFDLENBQUMsQ0FBQTtBQVRILGtEQUEwRTtBQUMxRSx1REFBZ0Q7QUFDaEQsNERBQW1DO0FBRW5DLG1CQUFtQjtBQUNuQixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUE7QUFNOUIsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7SUFDekIsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQTtJQUMxQixDQUFDLENBQUMsQ0FBQTtJQUVGLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxHQUFHLEVBQUU7UUFDckQsSUFBQSxjQUFNLEVBQ0osdUJBQUMsZ0NBQWEsY0FDWix1QkFBQyxtQkFBUyxLQUFHLEdBQ0MsQ0FDakIsQ0FBQTtRQUVELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1FBQ2xFLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLG9DQUFvQyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO0lBQ3BGLENBQUMsQ0FBQyxDQUFBO0lBRUYsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLEdBQUcsRUFBRTtRQUN6RCxJQUFBLGNBQU0sRUFDSix1QkFBQyxnQ0FBYSxjQUNaLHVCQUFDLG1CQUFTLEtBQUcsR0FDQyxDQUNqQixDQUFBO1FBRUQseUJBQXlCO1FBQ3pCLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FB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Q0FBQyxJQUFBLGNBQU0sRUFBQyxxQkFBc0IsQ0FBQyxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ3pGLE1BQU0sQ0FBQyxJQUFBLGNBQU0sRUFBQyxxQkFBc0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUE7UUFDcEYsTUFBTSxDQUFDLElBQUEsY0FBTSxFQUFDLHFCQUFzQixDQUFDLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtRQUNwRixNQUFNLENBQUMsSUFBQSxjQUFNLEVBQUMscUJBQXNCLENBQUMsQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO0lBQ3RGLENBQUMsQ0FBQyxDQUFBO0lBRUYsRUFBRSxDQUFDLDBEQUEwRCxFQUFFLEdBQUcsRUFBRTtRQUNsRSxJQUFBLGNBQU0sRUFDSix1QkFBQyxnQ0FBYSxjQUNaLHVCQUFDLG1CQUFTLEtBQUcsR0FDQyxDQUNqQixDQUFBO1FBRUQsTUFBTSxjQUFjLEdBQUcsY0FBTSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN0RCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBRXRDLDJEQUEyRDtRQUMzRCxpQkFBUyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNsQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDdEQsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZXJpY2hhbWlsdDBuL3JlcG9zL2xvZGdlMmEvbDJhLW1vYmlsZS1hcHAvc3JjL3BhZ2VzL0Rhc2hib2FyZC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3aXRoaW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5pbXBvcnQgRGFzaGJvYXJkIGZyb20gJy4vRGFzaGJvYXJkJ1xuXG4vLyBNb2NrIHVzZU5hdmlnYXRlXG5jb25zdCBtb2NrTmF2aWdhdGUgPSBqZXN0LmZuKClcbmplc3QubW9jaygncmVhY3Qtcm91dGVyLWRvbScsICgpID0+ICh7XG4gIC4uLmplc3QucmVxdWlyZUFjdHVhbCgncmVhY3Qtcm91dGVyLWRvbScpLFxuICB1c2VOYXZpZ2F0ZTogKCkgPT4gbW9ja05hdmlnYXRlLFxufSkpXG5cbmRlc2NyaWJlKCdEYXNoYm9hcmQnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tOYXZpZ2F0ZS5tb2NrQ2xlYXIoKVxuICB9KVxuXG4gIGl0KCdyZW5kZXJzIHRoZSB3ZWxjb21lIG1lc3NhZ2UgYW5kIGRlc2NyaXB0aW9uJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8RGFzaGJvYXJkIC8+XG4gICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgKVxuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1dlbGNvbWUgQmFjaywgSm9obicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJIZXJlJ3Mgd2hhdCdzIGhhcHBlbmluZyBhdCBMb2RnZTJBXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3JlbmRlcnMgYWxsIHN0YXQgY2FyZHMgd2l0aCBjb3JyZWN0IGluZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8RGFzaGJvYXJkIC8+XG4gICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgKVxuXG4gICAgLy8gQ2hlY2sgc3RhdCBjYXJkIHRpdGxlc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdVcGNvbWluZyBSZXNlcnZhdGlvbnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFdmVudHMgVGhpcyBXZWVrJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQXZlcmFnZSBTY29yZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BybyBTaG9wIFBvaW50cycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG5cbiAgICAvLyBDaGVjayBzdGF0IGNhcmQgdmFsdWVzXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc1JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnODInKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxLDI1MCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ25hdmlnYXRlcyB0byBjb3JyZWN0IHBhZ2VzIHdoZW4gc3RhdCBjYXJkcyBhcmUgY2xpY2tlZCcsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgPERhc2hib2FyZCAvPlxuICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgIClcblxuICAgIC8vIENsaWNrIGVhY2ggc3RhdCBjYXJkIGFuZCB2ZXJpZnkgbmF2aWdhdGlvblxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdVcGNvbWluZyBSZXNlcnZhdGlvbnMnKSlcbiAgICBleHBlY3QobW9ja05hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Jlc2VydmF0aW9ucycpXG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnRXZlbnRzIFRoaXMgV2VlaycpKVxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvZXZlbnRzJylcblxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdBdmVyYWdlIFNjb3JlJykpXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9zY29yZXMnKVxuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1BybyBTaG9wIFBvaW50cycpKVxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvcHJvLXNob3AnKVxuICB9KVxuXG4gIGl0KCdyZW5kZXJzIHJlY2VudCBhY3Rpdml0eSBzZWN0aW9uIHdpdGggY29ycmVjdCBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgPERhc2hib2FyZCAvPlxuICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgIClcblxuICAgIC8vIENoZWNrIHNlY3Rpb24gdGl0bGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVjZW50IEFjdGl2aXR5JykpLnRvQmVJblRoZURvY3VtZW50KClcblxuICAgIC8vIENoZWNrIGFjdGl2aXR5IGVudHJpZXNcbiAgICBjb25zdCByZWNlbnRBY3Rpdml0eVNlY3Rpb24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdSZWNlbnQgQWN0aXZpdHknKS5jbG9zZXN0KCdkaXYnKT8ucGFyZW50RWxlbWVudFxuICAgIGV4cGVjdChyZWNlbnRBY3Rpdml0eVNlY3Rpb24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBcbiAgICAvLyBDaGVjayBiYXkgcmVzZXJ2YXRpb25zIHdpdGhpbiB0aGUgcmVjZW50IGFjdGl2aXR5IHNlY3Rpb25cbiAgICBleHBlY3Qod2l0aGluKHJlY2VudEFjdGl2aXR5U2VjdGlvbiEpLmdldEFsbEJ5VGV4dCgvQmF5IFJlc2VydmF0aW9uLykpLnRvSGF2ZUxlbmd0aCgzKVxuICAgIGV4cGVjdCh3aXRoaW4ocmVjZW50QWN0aXZpdHlTZWN0aW9uISkuZ2V0QWxsQnlUZXh0KC8yIGhvdXJzIC0gQmF5LykpLnRvSGF2ZUxlbmd0aCgzKVxuICAgIGV4cGVjdCh3aXRoaW4ocmVjZW50QWN0aXZpdHlTZWN0aW9uISkuZ2V0QnlUZXh0KCdEZWMgNSwgMjAyNCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHdpdGhpbihyZWNlbnRBY3Rpdml0eVNlY3Rpb24hKS5nZXRCeVRleHQoJ0RlYyAxMCwgMjAyNCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHdpdGhpbihyZWNlbnRBY3Rpdml0eVNlY3Rpb24hKS5nZXRCeVRleHQoJ0RlYyAxNSwgMjAyNCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3JlbmRlcnMgdXBjb21pbmcgZXZlbnRzIHNlY3Rpb24gd2l0aCBjb3JyZWN0IGluZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8RGFzaGJvYXJkIC8+XG4gICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgKVxuXG4gICAgLy8gQ2hlY2sgc2VjdGlvbiB0aXRsZVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdVcGNvbWluZyBFdmVudHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuXG4gICAgLy8gQ2hlY2sgZXZlbnQgZW50cmllc1xuICAgIGNvbnN0IHVwY29taW5nRXZlbnRzU2VjdGlvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1VwY29taW5nIEV2ZW50cycpLmNsb3Nlc3QoJ2RpdicpPy5wYXJlbnRFbGVtZW50XG4gICAgZXhwZWN0KHVwY29taW5nRXZlbnRzU2VjdGlvbikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIFxuICAgIC8vIENoZWNrIHRvdXJuYW1lbnQgZW50cmllcyB3aXRoaW4gdGhlIHVwY29taW5nIGV2ZW50cyBzZWN0aW9uXG4gICAgd2l0aGluKHVwY29taW5nRXZlbnRzU2VjdGlvbiEpLmdldEFsbEJ5VGV4dCgvVG91cm5hbWVudC8pLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBleHBlY3QoZWxlbWVudCkudG9IYXZlVGV4dENvbnRlbnQoYFRvdXJuYW1lbnQgJHtpbmRleCArIDF9YClcbiAgICB9KVxuICAgIGV4cGVjdCh3aXRoaW4odXBjb21pbmdFdmVudHNTZWN0aW9uISkuZ2V0QWxsQnlUZXh0KCcxOCBob2xlcyAtIFNpbmdsZXMnKSkudG9IYXZlTGVuZ3RoKDMpXG4gICAgZXhwZWN0KHdpdGhpbih1cGNvbWluZ0V2ZW50c1NlY3Rpb24hKS5nZXRCeVRleHQoJ0RlYyAxMCwgMjAyNCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHdpdGhpbih1cGNvbWluZ0V2ZW50c1NlY3Rpb24hKS5nZXRCeVRleHQoJ0RlYyAyMCwgMjAyNCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHdpdGhpbih1cGNvbWluZ0V2ZW50c1NlY3Rpb24hKS5nZXRCeVRleHQoJ0RlYyAzMCwgMjAyNCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ25hdmlnYXRlcyB0byBldmVudHMgcGFnZSB3aGVuIFZpZXcgQWxsIGJ1dHRvbiBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8RGFzaGJvYXJkIC8+XG4gICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgKVxuXG4gICAgY29uc3Qgdmlld0FsbEJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdWaWV3IEFsbCcpXG4gICAgZXhwZWN0KHZpZXdBbGxCdXR0b25zKS50b0hhdmVMZW5ndGgoMilcblxuICAgIC8vIENsaWNrIHRoZSBWaWV3IEFsbCBidXR0b24gaW4gdGhlIFVwY29taW5nIEV2ZW50cyBzZWN0aW9uXG4gICAgZmlyZUV2ZW50LmNsaWNrKHZpZXdBbGxCdXR0b25zWzFdKVxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvZXZlbnRzJylcbiAgfSlcbn0pXG4iXSwidmVyc2lvbiI6M30=