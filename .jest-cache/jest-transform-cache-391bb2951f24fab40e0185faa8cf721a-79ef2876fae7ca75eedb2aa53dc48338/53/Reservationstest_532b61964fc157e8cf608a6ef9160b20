c31c5a1d637ae40eacfd1006ec2a942a
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
jest.mock('../components/icons', () => ({
    BayIcon: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "bay-icon", children: "Bay Icon" }),
    TableIcon: () => (0, jsx_runtime_1.jsx)("div", { "data-testid": "table-icon", children: "Table Icon" }),
}));
const react_1 = require("@testing-library/react");
const react_router_dom_1 = require("react-router-dom");
const Reservations_1 = __importDefault(require("./Reservations"));
describe('Reservations', () => {
    const renderReservations = () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(react_router_dom_1.BrowserRouter, { children: (0, jsx_runtime_1.jsx)(Reservations_1.default, {}) }));
    };
    it('renders reservation page header', () => {
        renderReservations();
        expect(react_1.screen.getByText('Make a Reservation')).toBeInTheDocument();
        expect(react_1.screen.getByText('Book your bay or table')).toBeInTheDocument();
    });
    describe('Reservation Type Selection', () => {
        it('renders reservation type buttons', () => {
            renderReservations();
            expect(react_1.screen.getByText('Bay Reservation')).toBeInTheDocument();
            expect(react_1.screen.getByText('Table Reservation')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('bay-icon')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('table-icon')).toBeInTheDocument();
        });
    });
    describe('Date Selection', () => {
        it('renders date selection section', () => {
            renderReservations();
            expect(react_1.screen.getByText('Select Date')).toBeInTheDocument();
        });
        it('displays 7 date buttons', () => {
            renderReservations();
            const today = new Date();
            const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            // Get all date buttons
            const dateButtons = react_1.screen.getAllByRole('button').filter(button => {
                const text = button.textContent;
                return dayNames.some(day => text?.includes(day));
            });
            expect(dateButtons).toHaveLength(7);
            // Check if first date is today
            const todayShort = today.toLocaleDateString('en-US', { weekday: 'short' });
            const todayDate = today.getDate().toString();
            expect(dateButtons[0].textContent).toContain(todayShort);
            expect(dateButtons[0].textContent).toContain(todayDate);
        });
    });
    describe('Time Selection', () => {
        it('renders time selection section', () => {
            renderReservations();
            expect(react_1.screen.getByText('Select Time')).toBeInTheDocument();
        });
        it('displays all time slots', () => {
            renderReservations();
            expect(react_1.screen.getByText('9:00 AM')).toBeInTheDocument();
            expect(react_1.screen.getByText('10:00 AM')).toBeInTheDocument();
            expect(react_1.screen.getByText('11:00 AM')).toBeInTheDocument();
            expect(react_1.screen.getByText('12:00 PM')).toBeInTheDocument();
            expect(react_1.screen.getByText('1:00 PM')).toBeInTheDocument();
            expect(react_1.screen.getByText('2:00 PM')).toBeInTheDocument();
        });
        it('disables unavailable time slots', () => {
            renderReservations();
            const tenAMSlot = react_1.screen.getByText('10:00 AM').closest('button');
            const onePMSlot = react_1.screen.getByText('1:00 PM').closest('button');
            expect(tenAMSlot).toBeDisabled();
            expect(onePMSlot).toBeDisabled();
        });
        it('enables available time slots', () => {
            renderReservations();
            const nineAMSlot = react_1.screen.getByText('9:00 AM').closest('button');
            const elevenAMSlot = react_1.screen.getByText('11:00 AM').closest('button');
            const twoPMSlot = react_1.screen.getByText('2:00 PM').closest('button');
            expect(nineAMSlot).not.toBeDisabled();
            expect(elevenAMSlot).not.toBeDisabled();
            expect(twoPMSlot).not.toBeDisabled();
        });
    });
    describe('Guest Count Selection', () => {
        it('renders guest count section', () => {
            renderReservations();
            expect(react_1.screen.getByText('Number of Guests')).toBeInTheDocument();
            expect(react_1.screen.getByText('4')).toBeInTheDocument(); // Default guest count
        });
        it('renders increment and decrement buttons', () => {
            renderReservations();
            const buttons = react_1.screen.getAllByRole('button');
            const decrementButton = buttons.find(button => button.innerHTML.includes('M20 12H4'));
            const incrementButton = buttons.find(button => button.innerHTML.includes('M12 4v16m8-8H4'));
            expect(decrementButton).toBeInTheDocument();
            expect(incrementButton).toBeInTheDocument();
        });
    });
    it('renders complete reservation button', () => {
        renderReservations();
        const completeButton = react_1.screen.getByText('Complete Reservation');
        expect(completeButton).toBeInTheDocument();
        expect(completeButton.closest('button')).toHaveClass('p-4 md:p-6 rounded-xl transition-colors bg-[#2d3339] hover:bg-[#3a424a] text-white w-full');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2VyaWNoYW1pbHQwbi9yZXBvcy9sb2RnZTJhL2wyYS1tb2JpbGUtYXBwL3NyYy9wYWdlcy9SZXNlcnZhdGlvbnMudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBS0EsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3RDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQywrQ0FBaUIsVUFBVSx5QkFBZTtJQUN6RCxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsK0NBQWlCLFlBQVksMkJBQWlCO0NBQ2hFLENBQUMsQ0FBQyxDQUFBO0FBUEgsa0RBQWtFO0FBQ2xFLHVEQUFnRDtBQUNoRCxrRUFBeUM7QUFPekMsUUFBUSxDQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUU7SUFDNUIsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLEVBQUU7UUFDOUIsSUFBQSxjQUFNLEVBQ0osdUJBQUMsZ0NBQWEsY0FDWix1QkFBQyxzQkFBWSxLQUFHLEdBQ0YsQ0FDakIsQ0FBQTtJQUNILENBQUMsQ0FBQTtJQUVELEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7UUFDekMsa0JBQWtCLEVBQUUsQ0FBQTtRQUNwQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtRQUNsRSxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtJQUN4RSxDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7UUFDMUMsRUFBRSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtZQUMxQyxrQkFBa0IsRUFBRSxDQUFBO1lBQ3BCLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQy9ELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQ2pFLE1BQU0sQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtZQUMxRCxNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUE7UUFDOUQsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7UUFDOUIsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtZQUN4QyxrQkFBa0IsRUFBRSxDQUFBO1lBQ3BCLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtRQUM3RCxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7WUFDakMsa0JBQWtCLEVBQUUsQ0FBQTtZQUNwQixNQUFNLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFBO1lBQ3hCLE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFFbEUsdUJBQXVCO1lBQ3ZCLE1BQU0sV0FBVyxHQUFHLGNBQU0sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNoRSxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFBO2dCQUMvQixPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDbEQsQ0FBQyxDQUFDLENBQUE7WUFFRixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBRW5DLCtCQUErQjtZQUMvQixNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsa0JBQWtCLENBQUMsT0FBTyxFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUE7WUFDMUUsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFBO1lBQzVDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQ3hELE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ3pELENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFO1FBQzlCLEVBQUUsQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7WUFDeEMsa0JBQWtCLEVBQUUsQ0FBQTtZQUNwQixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUE7UUFDN0QsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1lBQ2pDLGtCQUFrQixFQUFFLENBQUE7WUFDcEIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQ3ZELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtZQUN4RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUE7WUFDeEQsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQ3hELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtZQUN2RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUE7UUFDekQsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLGtCQUFrQixFQUFFLENBQUE7WUFDcEIsTUFBTSxTQUFTLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7WUFDaEUsTUFBTSxTQUFTLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFL0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFBO1lBQ2hDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQTtRQUNsQyxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyw4QkFBOEIsRUFBRSxHQUFHLEVBQUU7WUFDdEMsa0JBQWtCLEVBQUUsQ0FBQTtZQUNwQixNQUFNLFVBQVUsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUNoRSxNQUFNLFlBQVksR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUNuRSxNQUFNLFNBQVMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvRCxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFBO1lBQ3JDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUE7WUFDdkMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQTtRQUN0QyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtRQUNyQyxFQUFFLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFO1lBQ3JDLGtCQUFrQixFQUFFLENBQUE7WUFDcEIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUE7WUFDaEUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBLENBQUMsc0JBQXNCO1FBQzFFLENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLHlDQUF5QyxFQUFFLEdBQUcsRUFBRTtZQUNqRCxrQkFBa0IsRUFBRSxDQUFBO1lBQ3BCLE1BQU0sT0FBTyxHQUFHLGNBQU0sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUE7WUFDN0MsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUE7WUFDckYsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQTtZQUUzRixNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtZQUMzQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtRQUM3QyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtRQUM3QyxrQkFBa0IsRUFBRSxDQUFBO1FBQ3BCLE1BQU0sY0FBYyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsc0JBQXNCLENBQUMsQ0FBQTtRQUMvRCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQTtRQUMxQyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FDbEQsMkZBQTJGLENBQzVGLENBQUE7SUFDSCxDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmljaGFtaWx0MG4vcmVwb3MvbG9kZ2UyYS9sMmEtbW9iaWxlLWFwcC9zcmMvcGFnZXMvUmVzZXJ2YXRpb25zLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5pbXBvcnQgUmVzZXJ2YXRpb25zIGZyb20gJy4vUmVzZXJ2YXRpb25zJ1xuXG5qZXN0Lm1vY2soJy4uL2NvbXBvbmVudHMvaWNvbnMnLCAoKSA9PiAoe1xuICBCYXlJY29uOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiYmF5LWljb25cIj5CYXkgSWNvbjwvZGl2PixcbiAgVGFibGVJY29uOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwidGFibGUtaWNvblwiPlRhYmxlIEljb248L2Rpdj4sXG59KSlcblxuZGVzY3JpYmUoJ1Jlc2VydmF0aW9ucycsICgpID0+IHtcbiAgY29uc3QgcmVuZGVyUmVzZXJ2YXRpb25zID0gKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8UmVzZXJ2YXRpb25zIC8+XG4gICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgKVxuICB9XG5cbiAgaXQoJ3JlbmRlcnMgcmVzZXJ2YXRpb24gcGFnZSBoZWFkZXInLCAoKSA9PiB7XG4gICAgcmVuZGVyUmVzZXJ2YXRpb25zKClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFrZSBhIFJlc2VydmF0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQm9vayB5b3VyIGJheSBvciB0YWJsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1Jlc2VydmF0aW9uIFR5cGUgU2VsZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIHJlc2VydmF0aW9uIHR5cGUgYnV0dG9ucycsICgpID0+IHtcbiAgICAgIHJlbmRlclJlc2VydmF0aW9ucygpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQmF5IFJlc2VydmF0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUYWJsZSBSZXNlcnZhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdiYXktaWNvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCd0YWJsZS1pY29uJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdEYXRlIFNlbGVjdGlvbicsICgpID0+IHtcbiAgICBpdCgncmVuZGVycyBkYXRlIHNlbGVjdGlvbiBzZWN0aW9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyUmVzZXJ2YXRpb25zKClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3QgRGF0ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIGl0KCdkaXNwbGF5cyA3IGRhdGUgYnV0dG9ucycsICgpID0+IHtcbiAgICAgIHJlbmRlclJlc2VydmF0aW9ucygpXG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgIGNvbnN0IGRheU5hbWVzID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXVxuICAgICAgXG4gICAgICAvLyBHZXQgYWxsIGRhdGUgYnV0dG9uc1xuICAgICAgY29uc3QgZGF0ZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKS5maWx0ZXIoYnV0dG9uID0+IHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGJ1dHRvbi50ZXh0Q29udGVudFxuICAgICAgICByZXR1cm4gZGF5TmFtZXMuc29tZShkYXkgPT4gdGV4dD8uaW5jbHVkZXMoZGF5KSlcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGV4cGVjdChkYXRlQnV0dG9ucykudG9IYXZlTGVuZ3RoKDcpXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGZpcnN0IGRhdGUgaXMgdG9kYXlcbiAgICAgIGNvbnN0IHRvZGF5U2hvcnQgPSB0b2RheS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyB3ZWVrZGF5OiAnc2hvcnQnIH0pXG4gICAgICBjb25zdCB0b2RheURhdGUgPSB0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKVxuICAgICAgZXhwZWN0KGRhdGVCdXR0b25zWzBdLnRleHRDb250ZW50KS50b0NvbnRhaW4odG9kYXlTaG9ydClcbiAgICAgIGV4cGVjdChkYXRlQnV0dG9uc1swXS50ZXh0Q29udGVudCkudG9Db250YWluKHRvZGF5RGF0ZSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdUaW1lIFNlbGVjdGlvbicsICgpID0+IHtcbiAgICBpdCgncmVuZGVycyB0aW1lIHNlbGVjdGlvbiBzZWN0aW9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyUmVzZXJ2YXRpb25zKClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3QgVGltZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIGl0KCdkaXNwbGF5cyBhbGwgdGltZSBzbG90cycsICgpID0+IHtcbiAgICAgIHJlbmRlclJlc2VydmF0aW9ucygpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnOTowMCBBTScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMTA6MDAgQU0nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzExOjAwIEFNJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxMjowMCBQTScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMTowMCBQTScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMjowMCBQTScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIGl0KCdkaXNhYmxlcyB1bmF2YWlsYWJsZSB0aW1lIHNsb3RzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyUmVzZXJ2YXRpb25zKClcbiAgICAgIGNvbnN0IHRlbkFNU2xvdCA9IHNjcmVlbi5nZXRCeVRleHQoJzEwOjAwIEFNJykuY2xvc2VzdCgnYnV0dG9uJylcbiAgICAgIGNvbnN0IG9uZVBNU2xvdCA9IHNjcmVlbi5nZXRCeVRleHQoJzE6MDAgUE0nKS5jbG9zZXN0KCdidXR0b24nKVxuICAgICAgXG4gICAgICBleHBlY3QodGVuQU1TbG90KS50b0JlRGlzYWJsZWQoKVxuICAgICAgZXhwZWN0KG9uZVBNU2xvdCkudG9CZURpc2FibGVkKClcbiAgICB9KVxuXG4gICAgaXQoJ2VuYWJsZXMgYXZhaWxhYmxlIHRpbWUgc2xvdHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXJSZXNlcnZhdGlvbnMoKVxuICAgICAgY29uc3QgbmluZUFNU2xvdCA9IHNjcmVlbi5nZXRCeVRleHQoJzk6MDAgQU0nKS5jbG9zZXN0KCdidXR0b24nKVxuICAgICAgY29uc3QgZWxldmVuQU1TbG90ID0gc2NyZWVuLmdldEJ5VGV4dCgnMTE6MDAgQU0nKS5jbG9zZXN0KCdidXR0b24nKVxuICAgICAgY29uc3QgdHdvUE1TbG90ID0gc2NyZWVuLmdldEJ5VGV4dCgnMjowMCBQTScpLmNsb3Nlc3QoJ2J1dHRvbicpXG4gICAgICBcbiAgICAgIGV4cGVjdChuaW5lQU1TbG90KS5ub3QudG9CZURpc2FibGVkKClcbiAgICAgIGV4cGVjdChlbGV2ZW5BTVNsb3QpLm5vdC50b0JlRGlzYWJsZWQoKVxuICAgICAgZXhwZWN0KHR3b1BNU2xvdCkubm90LnRvQmVEaXNhYmxlZCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnR3Vlc3QgQ291bnQgU2VsZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIGd1ZXN0IGNvdW50IHNlY3Rpb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXJSZXNlcnZhdGlvbnMoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ051bWJlciBvZiBHdWVzdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzQnKSkudG9CZUluVGhlRG9jdW1lbnQoKSAvLyBEZWZhdWx0IGd1ZXN0IGNvdW50XG4gICAgfSlcblxuICAgIGl0KCdyZW5kZXJzIGluY3JlbWVudCBhbmQgZGVjcmVtZW50IGJ1dHRvbnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXJSZXNlcnZhdGlvbnMoKVxuICAgICAgY29uc3QgYnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicpXG4gICAgICBjb25zdCBkZWNyZW1lbnRCdXR0b24gPSBidXR0b25zLmZpbmQoYnV0dG9uID0+IGJ1dHRvbi5pbm5lckhUTUwuaW5jbHVkZXMoJ00yMCAxMkg0JykpXG4gICAgICBjb25zdCBpbmNyZW1lbnRCdXR0b24gPSBidXR0b25zLmZpbmQoYnV0dG9uID0+IGJ1dHRvbi5pbm5lckhUTUwuaW5jbHVkZXMoJ00xMiA0djE2bTgtOEg0JykpXG4gICAgICBcbiAgICAgIGV4cGVjdChkZWNyZW1lbnRCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChpbmNyZW1lbnRCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdyZW5kZXJzIGNvbXBsZXRlIHJlc2VydmF0aW9uIGJ1dHRvbicsICgpID0+IHtcbiAgICByZW5kZXJSZXNlcnZhdGlvbnMoKVxuICAgIGNvbnN0IGNvbXBsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnQ29tcGxldGUgUmVzZXJ2YXRpb24nKVxuICAgIGV4cGVjdChjb21wbGV0ZUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChjb21wbGV0ZUJ1dHRvbi5jbG9zZXN0KCdidXR0b24nKSkudG9IYXZlQ2xhc3MoXG4gICAgICAncC00IG1kOnAtNiByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIGJnLVsjMmQzMzM5XSBob3ZlcjpiZy1bIzNhNDI0YV0gdGV4dC13aGl0ZSB3LWZ1bGwnXG4gICAgKVxuICB9KVxufSlcbiJdLCJ2ZXJzaW9uIjozfQ==